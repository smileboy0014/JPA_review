## 영속성컨텍스트

### 엔터티 매니저 팩토리와 엔터티 매니저
![jpa.png](..%2Fpicture%2Fjpa.png)

### 영속성 컨텍스트?
- '엔터티를 영구 저장하는 환경'
- EntityManager.persist(entity)
- 엔터티 매니저를 통해서 영속성 컨텍스트에 접근

### 엔터티 생명주기
- 비영속
  - 영속성 컨텍스트와 젼혀 관계가 없는 **새로운** 상태
- 영속
  - 영속성 컨텍스트에 **관리**되는 상태
- 준영속
  - 영속성 컨텍스트에 저장되었다가 **분리된** 상태
- 삭제
  - **삭제**된 상태

### 영속성 컨텍스트 이점
- 1차 캐시
- 동일성 보장
- 트랜잭션을 지원하는 쓰기 지연
- 변경 감지
- 지연 로딩